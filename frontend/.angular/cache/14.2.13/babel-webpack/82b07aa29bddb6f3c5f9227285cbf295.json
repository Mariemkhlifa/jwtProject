{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/user.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../navbar/navbar.component\";\n\nfunction ProfileComponent_div_1_ng_template_1_button_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_1_ng_template_1_button_63_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r4.toggleEditMode());\n    });\n    i0.ɵɵtext(1, \"Modifier\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProfileComponent_div_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Detail Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"tr\")(7, \"th\")(8, \"label\");\n    i0.ɵɵtext(9, \"Id\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵelement(11, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"td\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"tr\")(14, \"th\")(15, \"label\");\n    i0.ɵɵtext(16, \"Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵelement(18, \"input\", 6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"tr\")(20, \"th\")(21, \"label\");\n    i0.ɵɵtext(22, \"LastName\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"td\");\n    i0.ɵɵelement(24, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"td\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"tr\")(27, \"th\")(28, \"label\");\n    i0.ɵɵtext(29, \"Email\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"td\");\n    i0.ɵɵelement(31, \"input\", 6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"tr\")(33, \"th\")(34, \"label\");\n    i0.ɵɵtext(35, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"td\");\n    i0.ɵɵelement(37, \"input\", 6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(38, \"div\", 7)(39, \"tr\")(40, \"th\")(41, \"label\");\n    i0.ɵɵtext(42, \"Matricule\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"td\");\n    i0.ɵɵelement(44, \"input\", 6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"tr\")(46, \"th\")(47, \"label\");\n    i0.ɵɵtext(48, \"PhoneNumber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(49, \"td\");\n    i0.ɵɵelement(50, \"input\", 6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(51, \"tr\")(52, \"th\")(53, \"label\");\n    i0.ɵɵtext(54, \"DateNaissance\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(55, \"td\");\n    i0.ɵɵelement(56, \"input\", 6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(57, \"tr\")(58, \"th\")(59, \"label\");\n    i0.ɵɵtext(60, \"Sexe\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"td\");\n    i0.ɵɵelement(62, \"input\", 6);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵtemplate(63, ProfileComponent_div_1_ng_template_1_button_63_Template, 2, 0, \"button\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.user_id);\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.username);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.lastName);\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.email);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.password);\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.matricule);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.tel);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.dateNaissance);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.user.sexe);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isEditMode);\n  }\n}\n\nfunction ProfileComponent_div_1_form_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 10, 11);\n    i0.ɵɵlistener(\"ngSubmit\", function ProfileComponent_div_1_form_2_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onSubmit());\n    });\n    i0.ɵɵelementStart(2, \"table\", 3)(3, \"h3\");\n    i0.ɵɵtext(4, \"Modifier les coordonn\\u00E9es\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"div\", 5)(7, \"tr\")(8, \"th\")(9, \"label\");\n    i0.ɵɵtext(10, \"Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\")(12, \"input\", 12);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_div_1_form_2_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.user.username = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"tr\")(14, \"th\")(15, \"label\");\n    i0.ɵɵtext(16, \"LastName\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\")(18, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_div_1_form_2_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.user.lastName = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tr\")(20, \"th\")(21, \"label\");\n    i0.ɵɵtext(22, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"td\")(24, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_div_1_form_2_Template_input_ngModelChange_24_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.user.password = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"tr\")(26, \"th\")(27, \"label\");\n    i0.ɵɵtext(28, \"PhoneNumber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"td\")(30, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_div_1_form_2_Template_input_ngModelChange_30_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.user.tel = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(31, \"div\", 7)(32, \"tr\")(33, \"th\")(34, \"label\");\n    i0.ɵɵtext(35, \"Sexe\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"td\")(37, \"select\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_div_1_form_2_Template_select_ngModelChange_37_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.user.sexe = $event);\n    });\n    i0.ɵɵelementStart(38, \"option\", 17);\n    i0.ɵɵtext(39, \"S\\u00E9lectionnez le sexe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"option\", 18);\n    i0.ɵɵtext(41, \"Homme\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"option\", 19);\n    i0.ɵɵtext(43, \"Femme\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(44, \"tr\")(45, \"th\")(46, \"label\");\n    i0.ɵɵtext(47, \"Email\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"td\")(49, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_div_1_form_2_Template_input_ngModelChange_49_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.user.email = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(50, \"tr\")(51, \"th\")(52, \"label\");\n    i0.ɵɵtext(53, \"DateNaissance\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"td\")(55, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_div_1_form_2_Template_input_ngModelChange_55_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.user.dateNaissance = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(56, \"tr\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(57, \"button\", 22);\n    i0.ɵɵtext(58, \"Valider\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.username);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.lastName);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.password);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.tel);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.sexe);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.email);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.user.dateNaissance);\n  }\n}\n\nfunction ProfileComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProfileComponent_div_1_ng_template_1_Template, 64, 10, \"ng-template\", 1);\n    i0.ɵɵtemplate(2, ProfileComponent_div_1_form_2_Template, 59, 7, \"form\", 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isEditMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isEditMode);\n  }\n}\n\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(route, router, userService) {\n      this.route = route;\n      this.router = router;\n      this.userService = userService;\n      this.user = {};\n      this.isEditMode = false;\n    }\n\n    ngOnInit() {\n      //vérifier si l'utilisateur a réussi l'étape de connexion ou non\n      let ok = 'ok';\n\n      if (ok != sessionStorage.getItem('login')) {\n        this.router.navigate(['/connexion']);\n      }\n\n      this.route.params.subscribe(params => {\n        const id = +params['id'];\n        this.userService.getUserById(id).subscribe(data => {\n          this.user = data;\n        }, error => {\n          console.error(error);\n          alert('verifier les données');\n        });\n      });\n    }\n\n    toggleEditMode() {\n      this.isEditMode = !this.isEditMode;\n    }\n\n    onSubmit() {\n      const userId = this.user?.user_id;\n\n      if (userId) {\n        this.userService.updateUserDetails(userId, this.user).subscribe(updatedUser => {\n          this.user = updatedUser;\n          this.isEditMode = false;\n        }, error => {\n          console.error(error);\n          alert('Erreur lors de la sauvegarde des modifications');\n        });\n      } else {\n        alert('User ID not found.');\n      }\n    }\n\n  }\n\n  ProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n    return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n  };\n\n  ProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileComponent,\n    selectors: [[\"app-profile\"]],\n    decls: 2,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [3, \"ngIf\"], [3, \"ngSubmit\", 4, \"ngIf\"], [\"border\", \"1\"], [1, \"container\"], [1, \"left-inputs\"], [\"readonly\", \"\", 3, \"value\"], [1, \"right-inputs\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [3, \"ngSubmit\"], [\"editForm\", \"ngForm\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"newName\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"LastName\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"Password\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"PhoneNumber\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"sexe\", \"name\", \"sexe\", \"required\", \"\", 2, \"height\", \"50px\", \"width\", \"200px\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", 2, \"color\", \"grey\"], [\"value\", \"homme\"], [\"value\", \"femme\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"Email\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"Datenaissance\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"]],\n    template: function ProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navbar\");\n        i0.ɵɵtemplate(1, ProfileComponent_div_1_Template, 3, 2, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.user);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i4.NgIf, i5.NavbarComponent],\n    styles: [\"*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{padding:0;margin:0;box-sizing:border-box}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:auto;margin:0 auto;line-height:0px}.left-inputs[_ngcontent-%COMP%], .right-inputs[_ngcontent-%COMP%]{width:48%}form[_ngcontent-%COMP%]{height:auto;width:auto;background-color:#ffffff21;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;border-radius:10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.1);box-shadow:0 0 40px #08071099;padding:50px 35px}form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;letter-spacing:.5px;outline:none;border:none}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:500;line-height:42px;text-align:center}label[_ngcontent-%COMP%]{color:#fff;display:block;margin-top:30px;font-size:16px;font-weight:500}input[_ngcontent-%COMP%]{display:block;height:50px;width:auto;background-color:#00000012;border-radius:3px;padding:0 10px;margin:8px;font-size:14px;font-weight:300}[_ngcontent-%COMP%]::placeholder{color:#787878}button[_ngcontent-%COMP%]{margin-top:50px;width:100%;background-color:#fdb17a;color:#080710;padding:15px 0;font-size:18px;font-weight:600;border-radius:5px;cursor:pointer}\"]\n  });\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}